{"version":3,"mappings":"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","names":["playground","queryTextarea","apiKeyInput","executeButton","clearButton","introspectButton","resultPre","query","apiKey","requestData","headers","endpointUrl","_a","response","data","errorMsg","error","textarea","lib","__vitePreload","container","content","copyToClipboard","event","text","successMessage","showNotification","fallbackCopyToClipboard","textArea","successful","err","message","type","node","alertClass","alert","formatGraphQL","validateGraphQL","openBraces","closeBraces","config","coreSelectAll","checkbox","yformSelectAll","updateSelectAllStatus","groupSelector","selectAllId","checkboxes","selectAll","allChecked","codeBlocks","block","copyButtons","button","e","value"],"ignoreList":[],"sources":["../assets-src/playground.js","../assets-src/utilities.js","../assets-src/config.js","../assets-src/rexql.js"],"sourcesContent":["export const playground = {\n  init: function () {\n    console.log('rexQL.playground.init()')\n    const queryTextarea = document.getElementById('graphql-query')\n    const apiKeyInput = document.getElementById('api-key-input')\n    const executeButton = document.getElementById('execute-query')\n    const clearButton = document.getElementById('clear-result')\n    const introspectButton = document.getElementById('introspect')\n    const resultPre = document.getElementById('query-result')\n\n    if (!queryTextarea || !executeButton) return // Nicht auf Playground-Seite\n\n    this.initCodemirror(queryTextarea)\n\n    executeButton.addEventListener('click', function () {\n      const query = queryTextarea.value.trim()\n      rexQL.playground.executeQuery(\n        query,\n        apiKeyInput.value.trim(),\n        resultPre,\n        executeButton,\n        introspectButton\n      )\n    })\n\n    introspectButton.addEventListener('click', function () {\n      const introspectionQuery = `\n{\n  __schema {\n    queryType {\n      name\n      fields {\n        name\n        type {\n          name\n          kind\n        }\n      }\n    }\n  }\n}`\n      rexQL.playground.executeQuery(\n        introspectionQuery,\n        apiKeyInput.value.trim(),\n        resultPre,\n        executeButton,\n        introspectButton\n      )\n    })\n\n    clearButton.addEventListener('click', function () {\n      resultPre.textContent =\n        'Führen Sie eine Query aus, um Ergebnisse zu sehen...'\n    })\n  },\n\n  executeQuery: function (\n    query,\n    apiKey,\n    resultPre,\n    executeButton,\n    introspectButton\n  ) {\n    if (!query) {\n      alert('Bitte geben Sie eine GraphQL Query ein.')\n      return\n    }\n\n    resultPre.textContent = 'Führe Query aus...'\n    executeButton.disabled = true\n    introspectButton.disabled = true\n\n    const requestData = { query: query }\n    const headers = { 'Content-Type': 'application/json' }\n\n    if (apiKey) {\n      headers['X-API-KEY'] = apiKey\n    }\n\n    // Get endpoint URL from data attribute or global variable\n    const endpointUrl =\n      document\n        .querySelector('[data-endpoint-url]')\n        ?.getAttribute('data-endpoint-url') ||\n      window.rexQLEndpointUrl ||\n      '/index.php?rex-api-call=rexql_graphql'\n\n    fetch(endpointUrl, {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify(requestData)\n    })\n      .then(async (response) => {\n        const data = await response.json()\n        if (!response.ok) {\n          let errorMsg =\n            'HTTP ' + response.status + ': ' + response.statusText + '\\n\\n'\n          if (data.errors && data.errors.length > 0) {\n            errorMsg += 'GraphQL Fehler:\\n'\n            data.errors.forEach((error) => {\n              errorMsg += '• ' + error.message + '\\n'\n            })\n          }\n\n          throw new Error(errorMsg)\n        } else {\n          resultPre.textContent = JSON.stringify(data, null, 2)\n        }\n      })\n      .catch((error) => {\n        resultPre.textContent =\n          'Netzwerkfehler: ' +\n          error.message +\n          '\\n\\nTipps: Stellen Sie sicher, dass:\\n• Der GraphQL Endpoint erreichbar ist\\n• Sie einen gültigen API-Schlüssel eingegeben haben\\n• Die Query syntaktisch korrekt ist'\n      })\n      .finally(() => {\n        executeButton.disabled = false\n        introspectButton.disabled = false\n      })\n  },\n\n  initCodemirror: async function (textarea) {\n    const lib = await import('./graphql-editor')\n    const container = document.getElementById('graphql-editor-container')\n    textarea.style.display = 'none'\n    const graphqlEditor = new lib.GraphQLEditor(container, {\n      schema,\n      initialValue: textarea.value || '',\n      height: '500px',\n      onChange: (content) => {\n        textarea.value = content\n      }\n    })\n  }\n}\n","export const copyToClipboard = function (event, text, successMessage) {\n  successMessage = successMessage || 'In Zwischenablage kopiert'\n\n  if (navigator.clipboard && navigator.clipboard.writeText) {\n    navigator.clipboard\n      .writeText(text)\n      .then(function () {\n        // alert(successMessage)\n        showNotification(successMessage, 'success', event.target)\n      })\n      .catch(function () {\n        rexQL.fallbackCopyToClipboard(event, text, successMessage)\n      })\n  } else {\n    rexQL.fallbackCopyToClipboard(event, text, successMessage)\n  }\n}\n\n/**\n * Fallback für ältere Browser\n */\nexport const fallbackCopyToClipboard = function (event, text, successMessage) {\n  var textArea = document.createElement('textarea')\n  textArea.value = text\n  textArea.style.position = 'fixed'\n  textArea.style.top = '0'\n  textArea.style.left = '0'\n  textArea.style.width = '2em'\n  textArea.style.height = '2em'\n  textArea.style.padding = '0'\n  textArea.style.border = 'none'\n  textArea.style.outline = 'none'\n  textArea.style.boxShadow = 'none'\n  textArea.style.background = 'transparent'\n\n  document.body.appendChild(textArea)\n  textArea.focus()\n  textArea.select()\n\n  try {\n    var successful = document.execCommand('copy')\n    if (successful) {\n      showNotification(successMessage, 'success', event.target)\n    } else {\n      prompt('Bitte manuell kopieren:', text)\n    }\n  } catch (err) {\n    console.error('Copy to clipboard failed:', err)\n    prompt('Bitte manuell kopieren:', text)\n  }\n\n  document.body.removeChild(textArea)\n}\n\n/**\n * Benachrichtigung anzeigen\n */\nexport const showNotification = function (message, type, node) {\n  type = type || 'info'\n\n  // Bootstrap Alert erstellen\n  var alertClass = 'alert-info'\n  if (type === 'success') alertClass = 'alert-success'\n  if (type === 'error') alertClass = 'alert-danger'\n  if (type === 'warning') alertClass = 'alert-warning'\n\n  var alert = document.createElement('div')\n  alert.className =\n    'alert rexql-notificiation ' + alertClass + ' alert-dismissible'\n  alert.innerHTML =\n    '<div><button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>' +\n    '<strong>' +\n    message +\n    '</strong></div>'\n\n  // Alert am Anfang der Seite einfügen\n  try {\n    var container = document.querySelector('.rex-page-header') || document.body\n    container.appendChild(alert)\n  } catch (err) {\n    console.error('showNotification:', err)\n  }\n\n  // Nach 3 Sekunden automatisch ausblenden\n  setTimeout(function () {\n    if (alert.parentNode) {\n      alert.parentNode.removeChild(alert)\n    }\n  }, 3000)\n}\n\n/**\n * GraphQL Query Formatter\n */\nexport const formatGraphQL = function (query) {\n  // Einfache Formatierung - in Produktion würde man eine richtige GraphQL-Bibliothek verwenden\n  return query\n    .replace(/\\s+/g, ' ')\n    .replace(/\\{\\s*/g, '{\\n  ')\n    .replace(/\\s*\\}/g, '\\n}')\n    .replace(/,\\s*/g, ',\\n  ')\n    .trim()\n}\n\n/**\n * GraphQL Query validieren\n */\nexport const validateGraphQL = function (query) {\n  // Einfache Validierung\n  var openBraces = (query.match(/\\{/g) || []).length\n  var closeBraces = (query.match(/\\}/g) || []).length\n\n  if (openBraces !== closeBraces) {\n    return 'Unbalanced braces in GraphQL query'\n  }\n\n  if (query.trim().length === 0) {\n    return 'Empty query'\n  }\n\n  return null // Keine Fehler\n}\n","/**\n * Konfiguration: Table Selection funktionalität\n */\nexport const config = {\n  init: function () {\n    // Handler für \"Alle Core-Tabellen auswählen\"\n    const coreSelectAll = document.getElementById('select_all_core_tables')\n    if (coreSelectAll) {\n      coreSelectAll.addEventListener('change', function () {\n        const checkboxes = document.querySelectorAll(\n          '.table-checkbox.core-table'\n        )\n        checkboxes.forEach((checkbox) => {\n          checkbox.checked = this.checked\n        })\n      })\n    }\n\n    // Handler für \"Alle YForm-Tabellen auswählen\" (falls vorhanden)\n    const yformSelectAll = document.getElementById('select_all_yform_tables')\n    if (yformSelectAll) {\n      yformSelectAll.addEventListener('change', function () {\n        const checkboxes = document.querySelectorAll(\n          '.table-checkbox.yform-table'\n        )\n        checkboxes.forEach((checkbox) => {\n          checkbox.checked = this.checked\n        })\n      })\n    }\n\n    // Status der \"Alle auswählen\" Checkboxen aktualisieren\n    const updateSelectAllStatus = (groupSelector, selectAllId) => {\n      const checkboxes = document.querySelectorAll(groupSelector)\n      const selectAll = document.getElementById(selectAllId)\n\n      if (!selectAll) return\n\n      const allChecked = Array.from(checkboxes).every(\n        (checkbox) => checkbox.checked\n      )\n      selectAll.checked = allChecked\n    }\n\n    // Event-Listener für Core-Tabellen\n    const coreCheckboxes = document.querySelectorAll(\n      '.table-checkbox.core-table'\n    )\n    coreCheckboxes.forEach((checkbox) => {\n      checkbox.addEventListener('change', function () {\n        updateSelectAllStatus(\n          '.table-checkbox.core-table',\n          'select_all_core_tables'\n        )\n      })\n    })\n\n    // Event-Listener für YForm-Tabellen\n    const yformCheckboxes = document.querySelectorAll(\n      '.table-checkbox.yform-table'\n    )\n    yformCheckboxes.forEach((checkbox) => {\n      checkbox.addEventListener('change', function () {\n        updateSelectAllStatus(\n          '.table-checkbox.yform-table',\n          'select_all_yform_tables'\n        )\n      })\n    })\n\n    // Initial-Status der \"Alle auswählen\" Checkboxen setzen\n    updateSelectAllStatus(\n      '.table-checkbox.core-table',\n      'select_all_core_tables'\n    )\n    updateSelectAllStatus(\n      '.table-checkbox.yform-table',\n      'select_all_yform_tables'\n    )\n  }\n}\n","import { playground } from './playground'\nimport {\n  copyToClipboard,\n  fallbackCopyToClipboard,\n  showNotification,\n  formatGraphQL,\n  validateGraphQL\n} from './utilities'\nimport { config } from './config'\n\n// Globales rexQL Objekt\nwindow.rexQL = window.rexQL || {\n  playground,\n  copyToClipboard,\n  fallbackCopyToClipboard,\n  showNotification,\n  formatGraphQL,\n  validateGraphQL,\n  config\n}\n\n/**\n * Legacy-Funktionen für Kompatibilität\n */\n// window.copyToClipboard = function (text) {\n//   rexQL.copyToClipboard(text, 'In Zwischenablage kopiert')\n// }\n\nconsole.log('rexQL Addon rex:ready')\n\n// Syntax-Highlighting für Code-Blöcke (einfach)\nvar codeBlocks = document.querySelectorAll('pre code')\ncodeBlocks.forEach(function (block) {\n  if (block.textContent.trim().startsWith('{')) {\n    block.classList.add('language-graphql')\n  }\n})\n\n// API-Schlüssel Copy-Buttons initialisieren\nvar copyButtons = document.querySelectorAll('[data-copy]')\ncopyButtons.forEach(function (button) {\n  button.addEventListener('click', function (e) {\n    e.preventDefault()\n    var value = this.getAttribute('data-copy')\n    rexQL.copyToClipboard(e, value)\n  })\n})\n\n// Playground initialisieren (falls vorhanden)\nif (window.location.href.indexOf('page=rexql/playground') !== -1) {\n  rexQL.playground.init()\n}\n\n// Konfiguration initialisieren (falls vorhanden)\nif (window.location.href.indexOf('page=rexql/config') !== -1) {\n  rexQL.config.init()\n}\n"],"file":"rexql.js"}